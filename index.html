<!DOCTYPE html>
<!-- zansti sardam institute AI Chatbot - Enhanced Design -->
 
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="description" content="zansti sardam AI Chatbot - Your intelligent assistant powered by Gemini AI with multi-language support and image generation" />
    <meta name="theme-color" content="#6366f1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://generativelanguage.googleapis.com https://api.deepai.org https://image.pollinations.ai https://api-inference.huggingface.co; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https:; connect-src 'self' https://generativelanguage.googleapis.com https://api.deepai.org https://image.pollinations.ai https://api-inference.huggingface.co; font-src 'self' https://fonts.gstatic.com; object-src 'none'; frame-ancestors 'none';">
    <title>zansti sardam AI Chatbot - Intelligent Assistant</title>
    
    <!-- Resource hints for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://generativelanguage.googleapis.com" />
    <link rel="dns-prefetch" href="https://api.deepai.org" />
    <link rel="dns-prefetch" href="https://image.pollinations.ai" />
    <link rel="dns-prefetch" href="https://api-inference.huggingface.co" />
    
    <!-- Preload critical resources -->
    <link rel="preload" href="https://i.ibb.co/21jpMNhw/234421810-326887782452132-7028869078528396806-n-removebg-preview-1.png" as="image" />
    
    <!-- Linking Google Fonts For Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="animations.css" />
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ’¬</text></svg>">
  </head>
  <body>
    <div class="container">
      <!-- App Header -->
      <header class="app-header">
        <div class="logo-container">
          <img 
            src="https://i.ibb.co/21jpMNhw/234421810-326887782452132-7028869078528396806-n-removebg-preview-1.png" 
            alt="zansti sardam institute Logo" 
            class="app-logo"
            loading="eager"
            fetchpriority="high"
            width="120"
            height="120">
        </div>
        <h1 class="heading" data-i18n="heading"> zansti sardam  ai Chatbot</h1>
        <h4 class="sub-heading" data-i18n="subheading">Your intelligent assistant powered by chya luqman</h4>
        <div class="header-controls">
          <button id="back-btn" class="control-button material-symbols-rounded" title="Back" aria-label="Back to previous page">arrow_back</button>
          <button id="sidebar-toggle-btn" class="control-button material-symbols-rounded" title="Open menu" aria-label="Open navigation menu">menu</button>
        </div>
        <div class="language-selector-container">
          <label for="language-select" class="language-label" data-i18n="language_label">Language:</label>
          <div class="select-wrapper">
            <select id="language-select" class="language-select">
              <option value="en">English</option>
              <option value="ckb" class="kurdish-text">Kurdish (Sorani)</option>
              <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
            </select>
            <span class="select-icon material-symbols-rounded">language</span>
          </div>
        </div>
      </header>
      
      <!-- Suggestions List -->
      <ul class="suggestions" role="list" aria-label="Suggested prompts">
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Explain quantum computing in simple terms">
          <p class="text">Explain quantum computing in simple terms</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">science</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Got any creative ideas for a 10 year old's birthday?">
          <p class="text">Got any creative ideas for a 10 year old's birthday?</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">celebration</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: HTTP request in JavaScript?">
          <p class="text">HTTP request in JavaScript?</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">code</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Write a poem about the beauty of nature">
          <p class="text">Write a poem about the beauty of nature</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">nature</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Create a majestic dragon soaring over misty mountains">
          <p class="text">Create a majestic dragon soaring over misty mountains</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">image</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Generate a futuristic robot exploring an alien planet">
          <p class="text">Generate a futuristic robot exploring an alien planet</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">rocket</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Design a magical castle surrounded by enchanted forest">
          <p class="text">Design a magical castle surrounded by enchanted forest</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">castle</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Tell me about electric vehicles and their benefits">
          <p class="text">Tell me about electric vehicles and their benefits</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">electric_car</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Compare fuel efficiency of different car models">
          <p class="text">Compare fuel efficiency of different car models</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">local_gas_station</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Calculate fuel cost for a 500-mile trip with 30 MPG at $3.50/gallon">
          <p class="text">Calculate fuel cost for a 500-mile trip with 30 MPG at $3.50/gallon</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">local_gas_station</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Estimate insurance cost for a 5-year-old hybrid car worth $25,000">
          <p class="text">Estimate insurance cost for a 5-year-old hybrid car worth $25,000</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">account_balance</span>
        </li>
        <li class="suggestions-item" role="listitem" tabindex="0" aria-label="Suggest: Compare environmental impact of gas vs electric vehicles for 1000 miles">
          <p class="text">Compare environmental impact of gas vs electric vehicles for 1000 miles</p>
          <span class="icon material-symbols-rounded" aria-hidden="true">eco</span>
        </li>
      </ul>
      
      <!-- Chats -->
      <div class="chats-container" role="log" aria-live="polite" aria-label="Chat messages" aria-atomic="false"></div>
      
      <!-- Prompt Input -->
      <div class="prompt-container">
        <div class="network-status" id="network-status">
          <span class="network-status-icon material-symbols-rounded">cloud_off</span>
          <span class="network-status-text">Network connection lost. Reconnecting...</span>
        </div>
        <div class="prompt-wrapper">
          <form action="#" class="prompt-form" aria-label="Chat input form">
            <input type="text" placeholder="Message zansti sardam ..." class="prompt-input" data-i18n-placeholder="prompt_placeholder" required aria-label="Type your message here" />
            <div class="prompt-actions">
              <!-- File Upload Wrapper -->
              <div class="file-upload-wrapper">
                <img src="#" class="file-preview" alt="File preview" />
                <input id="file-input" type="file" accept="image/*, .pdf, .txt, .csv" hidden aria-label="Upload file" />
                <button type="button" class="file-icon material-symbols-rounded" title="Uploaded file" aria-label="Uploaded file">description</button>
                <button id="cancel-file-btn" type="button" class="material-symbols-rounded" title="Remove file" aria-label="Remove uploaded file">close</button>
                <button id="add-file-btn" type="button" class="material-symbols-rounded" title="Attach file" aria-label="Attach file">attach_file</button>
              </div>
              <!-- Send Prompt and Stop Response Buttons -->
              <a href="https://ali-alpha-ten.vercel.app/" target="_blank" id="ali-alpha-btn" title="Open ali-alpha API" aria-label="Open ali-alpha API in new tab">
                <svg class="microphone-icon" viewBox="0 0 14 21" xmlns="http://www.w3.org/2000/svg">
                  <path d="M7,12 C8.7,12 10,10.7 10,9 L10,3 C10,1.3 8.7,0 7,0 C5.3,0 4,1.3 4,3 L4,9 C4,10.7 5.3,12 7,12 L7,12 Z M12.3,9 C12.3,12 9.8,14.1 7,14.1 C4.2,14.1 1.7,12 1.7,9 L0,9 C0,12.4 2.7,15.2 6,15.7 L6,19 L8,19 L8,15.7 C11.3,15.2 14,12.4 14,9 L12.3,9 L12.3,9 Z"/>
                </svg>
              </a>
              <button id="stop-response-btn" type="button" class="material-symbols-rounded" title="Stop generation" aria-label="Stop response generation">stop_circle</button>
              <button id="send-prompt-btn" class="material-symbols-rounded" title="Send message" aria-label="Send message">send</button>
            </div>
          </form>
          <!-- Theme and Control Buttons -->
          <button id="voice-input-btn" class="material-symbols-rounded" title="Voice input" aria-label="Start voice input">mic</button>
          <button id="export-chats-btn" class="material-symbols-rounded" title="Export chat history" aria-label="Export chat history">download</button>
          <button id="theme-toggle-btn" class="material-symbols-rounded" title="Toggle theme" aria-label="Toggle dark/light theme">dark_mode</button>
          <button id="delete-chats-btn" class="material-symbols-rounded" title="Clear chat" aria-label="Clear chat history">delete</button>
        </div>
        <p class="disclaimer-text" data-i18n="disclaimer" role="alert">zansti sardam may display inaccurate info, including about people. Use responsibly.</p>
      </div>
    </div>
    <!-- Sidebar and overlay -->
    <div class="sidebar" role="navigation" aria-label="Main navigation">
      <div class="sidebar-header">
        <span>Menu</span>
        <button class="material-symbols-rounded sidebar-close" title="Close" aria-label="Close menu">close</button>
      </div>
      <nav class="sidebar-nav">
        <button class="sidebar-item" data-action="recent" aria-label="View recent chats">
          <span class="material-symbols-rounded">history</span>
          <span>Recent (/recent)</span>
        </button>
        <button class="sidebar-item" id="sidebar-clear-chats" aria-label="Clear chat history">
          <span class="material-symbols-rounded">delete</span>
          <span>Clear chats</span>
        </button>
        <button class="sidebar-item" data-action="theme" aria-label="Toggle theme">
          <span class="material-symbols-rounded">brightness_6</span>
          <span>Toggle theme</span>
        </button>
        <button class="sidebar-item" id="sidebar-security" aria-label="Security settings">
          <span class="material-symbols-rounded">security</span>
          <span>Security Settings</span>
        </button>
      </nav>
      <div class="sidebar-footer">
        <small>zansti sardam</small>
      </div>
    </div>
    
    <!-- Security Settings Panel -->
    <div id="security-panel" class="security-panel">
      <div class="security-panel-header">
        <h3>Security Settings</h3>
        <button class="material-symbols-rounded security-panel-close" title="Close">close</button>
      </div>
      <div class="security-panel-content">
        <div class="api-key-section">
          <h4>API Keys</h4>
          <p class="security-note">Enter your API keys for enhanced functionality. Keys are encrypted and stored locally.</p>
          
          <div class="api-key-input-group">
            <label for="gemini-api-key">Gemini API Key:</label>
            <input type="password" id="gemini-api-key" placeholder="Enter your Gemini API key" />
            <button id="save-gemini-key" class="save-key-btn">Save</button>
          </div>
          
          <div class="api-key-input-group">
            <label for="deepai-api-key">DeepAI API Key:</label>
            <input type="password" id="deepai-api-key" placeholder="Enter your DeepAI API key" />
            <button id="save-deepai-key" class="save-key-btn">Save</button>
          </div>
          
          <div class="api-key-input-group">
            <label for="hf-api-key">Hugging Face API Key:</label>
            <input type="password" id="hf-api-key" placeholder="Enter your Hugging Face API key" />
            <button id="save-hf-key" class="save-key-btn">Save</button>
          </div>
          
          <div class="security-actions">
            <button id="clear-all-keys" class="clear-keys-btn">Clear All Keys</button>
          </div>
        </div>
        
        <div class="security-info">
          <h4>Security Information</h4>
          <ul>
            <li>API keys are encrypted before storage</li>
            <li>Keys are stored only in your browser's localStorage</li>
            <li>Keys are never sent to any server except the respective API providers</li>
            <li>For maximum security, use your own API keys</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="sidebar-overlay" aria-hidden="true"></div>
    
    <!-- Loading indicator for initial page load -->
    <div id="initial-loader" class="loading-overlay">
      <div class="loading-content">
        <div class="loading-logo-container">
          <img 
            src="https://i.ibb.co/21jpMNhw/234421810-326887782452132-7028869078528396806-n-removebg-preview-1.png" 
            alt="zansti sardam institute Logo" 
            class="loading-logo"
            loading="eager"
            fetchpriority="high"
            width="100"
            height="100">
        </div>
        <div class="loading-spinner">
          <div class="spinner"></div>
          <div class="loading-text">Loading zansti sardam Chatbot...</div>
          <div class="audio-visualization">
            <div class="audio-bar"></div>
            <div class="audio-bar"></div>
            <div class="audio-bar"></div>
            <div class="audio-bar"></div>
            <div class="audio-bar"></div>
          </div>
        </div>
        <!-- Hidden audio element for autoplay -->
        <audio id="loading-audio" preload="auto" style="display: none;">
          <source src="ttsmaker-file-2025-10-17-10-13-4.mp3" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
      </div>
    </div>
    
    <script>
      // Security enhancements
      (function() {
        // Add security headers
        if (typeof window !== 'undefined') {
          // Prevent clickjacking
          if (window.self !== window.top) {
            window.top.location = window.self.location;
          }
          
          // Disable right-click context menu for additional protection
          document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
          });
          
          // Disable text selection for sensitive elements
          const sensitiveElements = document.querySelectorAll('.prompt-input, .message-text');
          sensitiveElements.forEach(el => {
            el.addEventListener('selectstart', function(e) {
              // Allow selection in input fields but not in message texts
              if (!el.classList.contains('prompt-input')) {
                e.preventDefault();
                return false;
              }
            });
          });
        }
      })();
      
      // Show loader on page load with audio autoplay
      document.addEventListener('DOMContentLoaded', function() {
        const loader = document.getElementById('initial-loader');
        const audio = document.getElementById('loading-audio');
        
        if (loader) {
          loader.style.display = 'flex';
          
          // Try to play audio
          if (audio) {
            // Audio autoplay with error handling
            const playAudio = () => {
              audio.volume = 0.7; // Set volume to 70%
              const playPromise = audio.play();
              
              if (playPromise !== undefined) {
                playPromise
                  .then(() => {
                    console.log('Audio playback started successfully');
                  })
                  .catch(error => {
                    console.warn('Audio autoplay failed:', error);
                    // Audio autoplay failed, possibly due to browser policies
                  });
              }
            };
            
            // Try to play immediately
            playAudio();
          }
          
          // Add a slight delay to ensure smooth transition
          setTimeout(() => {
            loader.style.opacity = '1';
          }, 10);
          
          // Hide loader after content is ready
          setTimeout(() => {
            loader.style.opacity = '0';
            
            // Stop audio when loader is hidden
            if (audio) {
              try {
                audio.pause();
                audio.currentTime = 0;
              } catch (e) {
                console.warn('Could not stop audio:', e);
              }
            }
            
            setTimeout(() => {
              loader.style.display = 'none';
            }, 500);
          }, 1200);
        }
      });
    </script>
    
    <script src="particles.js"></script>
    <script src="script.js"></script>
  </body>
</html>